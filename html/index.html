<html>
<head>
	<script src="/socket.io/socket.io.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<style type="text/css">
		input[type="text"], textarea {
			border: 1px solid #CCC;
			box-shadow: 0px 0px 1px rgba(0,0,0,.4);
			border-radius: 4px;
			line-height: 24px;
		}
		input[type="text"] {
			width: 300px;
		}
		textarea {
			width: 400px;
			height: 300px;
			margin-top: 10px;
		}
	</style>
</head>
<body>
	<form>
		<div>
			<input id="concert" type="text" />
			<input type="submit" id="listen" value="Listen to the Concert" />
			<input type="submit" id="perform" value="Perform on the Concert" />
		</div>
		<div>
			<textarea id="song">
				
			</textarea>
		</div>
	</form>
	<script>
	  	var sono = io.connect('http://localhost/sono');
	  	var nora = io.connect('http://localhost/nora');

	  	$('#listen').click(function(event){
	  		event.preventDefault();
	  		sono.emit('listen', $('#concert').val());
	  	});

	  	$('#perform').click(function(event){
	  		event.preventDefault();
	  		nora.emit('perform', {
	  			concert: $('#concert').val(),
	  			band: 'music',
	  			song: $('#song').val()
	  		});
	  	});
  
	  	sono.on('music', function (data) {
	   		$('#song').val($('#song').val() + "\n" + data);
	  	});

	</script>
</body>
</html>